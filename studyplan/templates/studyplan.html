<!DOCTYPE html>
<html lang="en">
<body>
{% include 'common/nav.html' %}

<div class="container" style="padding-top: 80px;">
  <main>
    <div class="row g-5">
      <div class="col-md-7 col-lg-8" style="position: inherit;">
        <form class="needs-validation" novalidate="" id="form" action="/save" method="post">
          <input type="hidden" value="{{ plan.id }}" name="id"/>
          <div class="row g-3">
            <div class="col-sm-12 gap1" style="position: inherit;">
              <label for="planName" class="form-label">Plan name:</label>
              <input type="text" class="form-control" id="planName" name="planName" placeholder="" value="{{ plan.plan_name }}" required="" autocomplete="off">
            </div>
            <div class="col-sm-6 gap1" style="position: inherit;">
              <label for="start_date" class="form-label">Start Date:</label>
              <input type="text" class="form-control" id="start_date" name="startDate" placeholder="" value="{{ plan.start_date }}" required="" autocomplete="off">
            </div>
            <div class="col-sm-6 gap1" style="position: inherit;">
              <label for="end_date" class="form-label">End Date:</label>
              <input type="text" class="form-control" id="end_date" name="endDate" placeholder="" value="{{ plan.end_date }}" required="" autocomplete="off">
            </div>
            <div class="col-sm-12 gap1" style="position: inherit;">
              <label for="explanation" class="form-label">Description:</label>
              <textarea class="form-control" id="explanation" name="explanation" required="" autocomplete="off">{{ plan.explanation }}</textarea>
            </div>
            <div class="col-md-24 gap1">

            </div>

          </div>

          <div class="row">
            <button type="button" class="btn btn-large" onclick="handleSubmit()">Submit!</button>
          </div>
          <div class="alert alert-warning alert-dismissible fade show" role="alert" style="display: none;" id="alertDiv">
            <strong>Warning!</strong> You should input/choose the required item.
            <button type="button" class="btn-close" data-bs-dismiss="alert" aria-label="Close" onclick="handleDismiss()">x</button>
          </div>
        </form>
      </div>
    </div>
  </main>
</div>
{% include 'common/foot.html' %}
<script type="text/javascript">
  function handleSubmit(){
      if($('#planName').val()==''){
          $('#alertDiv').toggle('slow', 'swing', function () {
          })
          return false
      }
      $('#form').submit()
  }

  function handleDismiss(){
      $('#alertDiv').toggle('slow', 'swing', function () {
      })
  }
</script>
</body>
<style>
.gap1{
    padding: 1em;
}
</style>
</html>